model TemplateVersion {
  id          String   @id @default(cuid())
  version     Int
  name        String
  description String?
  structure   Json
  changelog   String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  // Relations
  template      FolderTemplate @relation(fields: [templateId], references: [id], onDelete: Cascade)
  templateId    String
  createdBy     User          @relation(fields: [createdById], references: [id])
  createdById   String

  @@unique([templateId, version])
  @@index([templateId])
  @@index([createdById])
}

// Update FolderTemplate model
model FolderTemplate {
  // ... existing fields
  currentVersion Int           @default(1)
  versions       TemplateVersion[]
}
